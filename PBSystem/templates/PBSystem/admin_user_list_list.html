{% extends "PBSystem/base.html" %}
{% block content %}
	{% if user.is_authenticated %}
	{% if status == "admin" %}
		<h2><a href="/admin_user_list/?usertype=admin">{{ status }} List</a></h2>
		<a class="btn btn-primary" href="{% url 'accounts:user_create'%}?usertype=admin">+ {{ status }} Registration</a>
	{% else %}
		<h2><a href="/admin_user_list/?usertype=user">{{ status }} List</a></h2>
		<a class="btn btn-primary" href="{% url 'accounts:user_create'%}?usertype=user">+ {{ status }} Registration</a>
	{% endif %}
	{% for data in user_list %}
	<div class="table-responsive">
		<table class="table table-striped table-sm">
			<thead>
				<tr>
					<th>ID</th>
					<th>User Name</th>
					<th>Short Name</th>
					<th>Action</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>{{ data.id }}</td>
					<td>{{ data.username }}</td>
					<td>{{ data.short_name}}</td>
					<td><a class="btn btn-primary" href="{% url 'accounts:user_update' data.id %}">Edit</a> | <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal">Delete</button></td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
  			<div class="modal-content">
    			<div class="modal-header">
    				<h5 class="modal-title" id="exampleModalLabel">Deletion</h5>
    				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
    					<span aria-hidden="true">&times;</span>
    				</button>
    			</div>
    			<div class="modal-body">
    				Continue to delete?
    			</div>
    			<div class="modal-footer">
    				<button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
    				<a href="{% url 'accounts:user_delete' data.id%}" class="btn btn-danger">Yes</a>
    			</div>
    		</div>
    	</div>
    </div>
    {% endfor %}
	{% else %}
		<h2>Please Log In</h2>
	{% endif %}
{% endblock%}